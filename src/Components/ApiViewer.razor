@typeparam T

@using Education.Web.Services.Api

@switch (Result.Status)
{
    case Status.Loading when Loading is null:
        <PageSpinner/>
        break;

    case Status.Loading when Loading is not null:
        @Loading
        break;

    case Status.Fail:
        <PageTitle>@Result.Error.Title</PageTitle>
        <ErrorContainer Error="Result.Error"/>
        break;

    case Status.Success:
        @ChildContent(Result.Data)
        break;

    default:
        throw new ArgumentOutOfRangeException();
}

@code {

    [Parameter, EditorRequired]
    public ApiResult<T> Result { get; set; } = ApiResult<T>.Loading();

    [Parameter]
    public RenderFragment<T> ChildContent { get; set; } = default!;

    [Parameter]
    public RenderFragment? Loading { get; set; }

}