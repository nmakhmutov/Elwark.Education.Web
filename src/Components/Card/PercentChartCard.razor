<MudCard Elevation="0">
    <MudCardContent Class="d-flex flex-column justify-space-between h-100">
        <div class="mb-3">
            <MudText Typo="Typo.h6" Align="Align.Center">
                @Title
            </MudText>
            <MudText Typo="Typo.subtitle1" Align="Align.Center">
                @Subtitle
            </MudText>
        </div>

        <div>
            <MudChart ChartType="ChartType.Donut" Width="100%" ChartOptions="@ChartOptions" InputData="@_inputData"/>
            <MudText Typo="Typo.h4" Align="Align.Center">
                @Percentage.ToReadable()%
            </MudText>
        </div>
    </MudCardContent>
</MudCard>

@code {
    private double[] _inputData = new double[2];

    private static readonly ChartOptions ChartOptions = new()
    {
        ChartPalette = new[]
        {
            Colors.Green.Accent4,
            Colors.Grey.Lighten1
        },
        DisableLegend = true
    };

    [Parameter]
    public string Title { get; set; } = string.Empty;

    [Parameter]
    public string Subtitle { get; set; } = string.Empty;

    [Parameter]
    public double Percentage { get; set; }

    protected override void OnParametersSet()
    {
        _inputData[0] = Percentage;
        _inputData[1] = 100 - Percentage;
    }

}
