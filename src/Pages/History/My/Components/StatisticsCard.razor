@using MudBlazor.Utilities
@typeparam TValue

<MudPaper Elevation="0" Class="@_class">
    <header class="d-flex align-center justify-space-between pt-3 pt-sm-6 px-3 px-sm-6">
        <MudText Typo="Typo.h5">
            @Title
        </MudText>
        <HumanReadableNumber Value="@Value" Typo="Typo.h5"/>
    </header>
    <section class="pa-3 pa-sm-6 flex-grow-1">
        @ChildContent
    </section>
    @if (Href is not null)
    {
        <footer class="pb-3 pb-sm-6 px-3 px-sm-6">
            <MudButton Variant="Variant.Text" Color="Color.Primary" Href="@Href">
                @L["Button:Details"]
            </MudButton>
        </footer>
    }
</MudPaper>

@code {
    private string? _class;

    [Inject]
    private IStringLocalizer<App> L { get; set; } = default!;

    [Parameter]
    public string? Class { get; set; }

    [Parameter, EditorRequired]
    public string Title { get; set; } = string.Empty;

    [Parameter, EditorRequired]
    public TValue Value { get; set; } = default!;

    [Parameter]
    public string? Href { get; set; }

    [Parameter]
    public RenderFragment ChildContent { get; set; } = default!;

    protected override void OnParametersSet() => 
        _class = CssBuilder.Default("d-flex flex-column")
        .AddClass(Class, Class is not null)
        .Build();

}
