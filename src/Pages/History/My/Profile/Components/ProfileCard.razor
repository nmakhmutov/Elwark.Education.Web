@using Education.Web.Services.Model.User
@using Education.Web.Pages.Account

<section class="mud-paper d-flex flex-column @Class">
    <section class="header rounded-t"></section>
    
    <MudImage Class="avatar rounded" Src="@Customer.Image" Alt="@Customer.Name"/>
    
    <MudText Class="mb-3 mb-sm-6" Typo="Typo.h6" Align="Align.Center">
        @Customer.Name
    </MudText>

    <UserLevelProgress
        Class="px-3 px-sm-6 mb-3 mb-sm-6"
        Level="@Level.Value"
        Experience="@Level.Experience"
        NextLevelExperience="@Level.NextLevelExperience"/>

    <section class="d-flex justify-end gap-3 px-3 px-sm-6 mb-3 mb-sm-6">
        <MudButton
            DisableElevation
            StartIcon="@Icons.Outlined.AccountCircle"
            Variant="Variant.Outlined"
            Color="Color.Primary"
            Href="@AccountUrl.Root">
            @L["Account"]
        </MudButton>
    </section>
</section>

@code {

    [Inject]
    private IStringLocalizer<App> L { get; set; } = default!;

    [CascadingParameter]
    public CustomerState Customer { get; set; } = default!;

    [Parameter, EditorRequired]
    public LevelModel Level { get; set; } = default!;

    [Parameter]
    public string? Class { get; set; }

}