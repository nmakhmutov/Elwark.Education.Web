@implements IDisposable
<MudPaper Elevation="0" Class="@Class">
    <div class="d-flex flex-column flex-sm-row align-center justify-space-between pa-3 px-sm-6">
        <div class="d-flex flex-row align-center mb-3 mb-sm-0">
            <div class="mr-3">
                <MudAvatar Size="Size.Large" Image="@Customer.Image"/>
            </div>
            <div>
                <MudText Typo="Typo.h6">@Customer.Name</MudText>
                @* <MudText Typo="Typo.body2">@Nickname</MudText> *@
            </div>
        </div>
        <div>
            <MudButton
                Color="Color.Primary"
                Variant="Variant.Outlined"
                Link="@CommonLinks.Account"
                EndIcon="@Icons.Material.Outlined.Person">
                @L["Account"]
            </MudButton>
        </div>
    </div>
</MudPaper>

@code {

    [Inject]
    private IStringLocalizer<App> L { get; set; } = default!;

    [Inject]
    private CustomerService Customer { get; set; } = default!;

    [Parameter]
    public string? Class { get; set; }

    protected override void OnInitialized() => 
        Customer.OnChanged += StateHasChanged;

    public void Dispose() => 
        Customer.OnChanged -= StateHasChanged;

}
