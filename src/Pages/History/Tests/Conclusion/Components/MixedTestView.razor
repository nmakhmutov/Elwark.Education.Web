@using Education.Web.Gateways.History.Tests.Model

<EduContainer MaxWidth="EduWidth.W1280">
    <div class="mb-3">
        <MudLink Href="@Links.History.User.MyMixedTests" Typo="Typo.h5">
            @L["Statistics"]
        </MudLink>
    </div>
    <ConclusionCharts Conclusion="@Conclusion"/>
</EduContainer>

<EduContainer MaxWidth="EduWidth.W1280">
    <MudText Typo="Typo.h5" Class="mb-3">
        @L["Answers"]
    </MudText>
    <MudTable Items="@Conclusion.Questions" Hover="true" Breakpoint="Breakpoint.Sm">
        <HeaderContent>
            <MudTh>
                @L["Topic"]
            </MudTh>
            <MudTh>
                @L["Question"]
            </MudTh>
            <MudTh>
                @L["Question:IsAnswered"]
            </MudTh>
            <MudTh>
                @L["Question:IsCorrect"]
            </MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="@L["Topic"]">
                <MudLink Href="@Links.History.Content.Topic(context.Topic.Id)">
                    @context.Topic.Title
                </MudLink>
            </MudTd>
            <MudTd DataLabel="@L["Question"]">
                @context.Title
            </MudTd>
            <MudTd DataLabel="@L["Question:IsAnswered"]">
                <MudCheckBox ReadOnly="true" Checked="@context.IsAnswered"/>
            </MudTd>
            <MudTd DataLabel="@L["Question:IsCorrect"]">
                <MudCheckBox ReadOnly="true" Checked="@context.IsCorrect"/>
            </MudTd>
        </RowTemplate>
    </MudTable>
</EduContainer>


@code {

    [Inject]
    private IStringLocalizer<App> L { get; set; } = default!;

    [Parameter]
    public MixedTestConclusionModel Conclusion { get; set; } = default!;

}
