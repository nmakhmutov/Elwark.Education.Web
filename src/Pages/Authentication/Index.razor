@page "/authentication/{action}"
@layout MainLayout

<EduPage ShowFooter="true">
    <RemoteAuthenticatorView Action="@Action" OnLogInSucceeded="@OnSuccessCallback">
        <LoggingIn>
            <PageSpinner/>
        </LoggingIn>
        <CompletingLoggingIn>
            <PageSpinner/>
        </CompletingLoggingIn>
        <LogOut>
            <PageSpinner/>
        </LogOut>
    </RemoteAuthenticatorView>
</EduPage>

@code{

    [Inject]
    private CustomerService CustomerService { get; set; } = default!;

    [Parameter]
    public string? Action { get; set; }

    private Task OnSuccessCallback() =>
        CustomerService.CreateAsync();

}
