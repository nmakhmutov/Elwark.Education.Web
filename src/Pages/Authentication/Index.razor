@page "/authentication/{action}"
@layout MainLayout

<EduPage>
    <RemoteAuthenticatorView Action="@Action" OnLogInSucceeded="@OnLogInSucceeded">
        <LoggingIn>
            <PageSpinner/>
        </LoggingIn>
        <CompletingLoggingIn>
            <PageSpinner/>
        </CompletingLoggingIn>
        <LogOut>
            <PageSpinner/>
        </LogOut>
    </RemoteAuthenticatorView>
</EduPage>

@code{

    [Inject]
    private CustomerStateProvider CustomerStateProvider { get; set; } = default!;

    [Parameter]
    public string? Action { get; set; }

    private async Task OnLogInSucceeded() => 
        await CustomerStateProvider.InitAsync();

}