@page "/history/my/profile"
@layout HistoryLayout
@attribute [Authorize]

<PageTitle>
    @L["User_Profile_Title"]
</PageTitle>

<ApiViewer Result="@_result" OnReloadClick="@OnInitializedAsync" Context="model">
    <EduContainer Class="py-3 py-sm-6" MaxWidth="EduWidth.W1920">
        <section class="grid">
            <article class="content">
                <InventoryGrid Inventory="@model.Items" StoreHref="@HistoryUrl.Store.Index()" ColumnSize="Size.Medium" Context="inventory">
                    <InventoryInfoCard
                        IconUrl="@inventory.IconUrl"
                        Overview="@inventory.Overview"
                        Quantity="@inventory.Quantity"
                        Subtitle="@L.GetInventoryCategoryTypeTitle(inventory.Category)"
                        Title="@inventory.Title">
                        <MudButton
                            Class="mt-3"
                            Variant="Variant.Outlined"
                            Color="Color.Primary"
                            FullWidth
                            DisableElevation
                            DisableRipple>
                            @L["Button_Details"]
                        </MudButton>
                    </InventoryInfoCard>
                </InventoryGrid>
            </article>
            <aside class="sidebar">
                <ProfileCard
                    Class="mb-3 mb-sm-6"
                    Level="@_profile.Level"
                    Backpack="@_profile.Backpack"
                    Wallet="@_profile.Wallet"/>

                @foreach (var item in _wallet)
                {
                    <WalletCard Class="mb-3 mb-sm-6" Wallet="@item"/>
                }
            </aside>
        </section>
    </EduContainer>
</ApiViewer>