@page "/history/article/{id}"
@using Education.Client.Features.History.Clients.Article.Model
@layout HistoryLayout

<EduApiViewer Result="@_response" OnReloadClick="@OnParametersSetAsync">
    <PageTitle>
        @context.Article.Title
    </PageTitle>

    <EduMetaHeader Description="@context.Article.Description"
                   Image="@context.Article.Image.Small"
                   Title="@context.Article.Title"/>

    @switch (context.Article)
    {
        case ArticleDetail.BattleModel battle:
            <BattleDetail
                Battle="@battle"
                HasEasyQuiz="@context.HasEasyQuiz"
                HasHardQuiz="@context.HasHardQuiz"
                Activity="@context.Activity"
                OnLikeClick="@LearnerClient.LikeArticleAsync"
                OnDislikeClick="@LearnerClient.DislikeArticleAsync"
                OnBookmarkClick="@LearnerClient.ToggleArticleBookmarkAsync"/>
            break;

        case ArticleDetail.EmpireModel empire:
            <EmpireDetail
                Empire="@empire"
                HasEasyQuiz="@context.HasEasyQuiz"
                HasHardQuiz="@context.HasHardQuiz"
                Activity="@context.Activity"
                OnLikeClick="@LearnerClient.LikeArticleAsync"
                OnDislikeClick="@LearnerClient.DislikeArticleAsync"
                OnBookmarkClick="@LearnerClient.ToggleArticleBookmarkAsync"/>
            break;

        case ArticleDetail.GeneralModel article:
            <GeneralDetail
                Article="@article"
                HasEasyQuiz="@context.HasEasyQuiz"
                HasHardQuiz="@context.HasHardQuiz"
                Activity="@context.Activity"
                OnLikeClick="@LearnerClient.LikeArticleAsync"
                OnDislikeClick="@LearnerClient.DislikeArticleAsync"
                OnBookmarkClick="@LearnerClient.ToggleArticleBookmarkAsync"/>
            break;

        case ArticleDetail.PersonModel person:
            <PersonDetail
                Person="@person"
                HasEasyQuiz="@context.HasEasyQuiz"
                HasHardQuiz="@context.HasHardQuiz"
                Activity="@context.Activity"
                OnLikeClick="@LearnerClient.LikeArticleAsync"
                OnDislikeClick="@LearnerClient.DislikeArticleAsync"
                OnBookmarkClick="@LearnerClient.ToggleArticleBookmarkAsync"/>
            break;
    }
</EduApiViewer>
