<MudButton ButtonType="@ButtonType" Size="@Size" Variant="@Variant" Color="@Color" Disabled="@IsLoading" Class="@Class" FullWidth="@FullWidth" OnClick="@OnClick">
    @if (IsLoading)
    {
        <div class="d-flex flex-row align-center">
            <MudProgressCircular Size="Size.Small" Indeterminate="true"/>
            @if (LoadingText is not null)
            {
                <span class="pl-3">
                    @LoadingText
                </span>
            }
        </div>
    }
    else
    {
        @Text
    }
</MudButton>

@code {

    [Parameter]
    public ButtonType ButtonType { get; set; } = ButtonType.Button;

    [Parameter]
    public Variant Variant { get; set; } = Variant.Filled;

    [Parameter]
    public Color Color { get; set; } = Color.Primary;

    [Parameter]
    public Size Size { get; set; } = Size.Medium;
    
    [Parameter]
    public string? Class { get; set; }

    [Parameter]
    public bool IsLoading { get; set; }

    [Parameter]
    public string Text { get; set; } = string.Empty;

    [Parameter]
    public string? LoadingText { get; set; }

    [Parameter]
    public bool FullWidth { get; set; }
    
    [Parameter]
    public EventCallback<MouseEventArgs> OnClick { get; set; }
}
