@using Education.Client.Gateways.History.Tests.Model
<div class="statistics">
    <PercentChartCard
        Title="@L["TimeSpent"]"
        Subtitle="@Conclusion.TimeSpent.ToSimpleFormat()"
        Percentage="@Math.Round(Conclusion.TimeSpent / Conclusion.TestDuration * 100)"/>

    <PercentChartCard
        Title="@L["Score"]"
        Subtitle="@(Conclusion.UserScore.Total.ToReadable() + " / " + Conclusion.MaxScore.Total.ToReadable())"
        Percentage="@Math.Round((double)Conclusion.UserScore.Total / Conclusion.MaxScore.Total * 100)"/>

    <PercentChartCard
        Title="@L["Score:ByQuestions"]"
        Subtitle="@(Conclusion.UserScore.Questions.ToReadable() + " / " + Conclusion.MaxScore.Questions.ToReadable())"
        Percentage="@Math.Round((double)Conclusion.UserScore.Questions / Conclusion.MaxScore.Questions * 100)"/>

    <PercentChartCard
        Title="@L["Score:NoMistakesBonus"]"
        Subtitle="@(Conclusion.UserScore.NoMistakes.ToReadable() + " / " + Conclusion.MaxScore.NoMistakes.ToReadable())"
        Percentage="@Math.Round((double)Conclusion.UserScore.NoMistakes / Conclusion.MaxScore.NoMistakes * 100)"/>

    <PercentChartCard
        Title="@L["Score:BySpeedBonus"]"
        Subtitle="@(Conclusion.UserScore.Speed.ToReadable() + " / " + Conclusion.MaxScore.Speed.ToReadable())"
        Percentage="@Math.Round((double)Conclusion.UserScore.Speed / Conclusion.MaxScore.Speed * 100)"/>
</div>

@code {

    [Inject]
    private IStringLocalizer<App> L { get; set; } = default!;

    [Parameter]
    public TestConclusionModel Conclusion { get; set; } = default!;

}
