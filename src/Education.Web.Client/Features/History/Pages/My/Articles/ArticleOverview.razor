@using Education.Web.Client.Features.History.Services
@using Education.Web.Client.Features.History.Services.User.Model
<section class="grid @Class">
    <div class="image">
        <MudImage
            Class="rounded"
            Src="@Article.ThumbnailUrl"
            Alt="@Article.Title"
            Width="140"
            Height="140"
            ObjectFit="ObjectFit.Cover"
            ObjectPosition="ObjectPosition.Center"/>
    </div>

    <article class="content">
        <div class="breadcrumbs">
            <Breadcrumbs Class="pa-0 mb-3" Items="@Breadcrumbs"/>
        </div>
        <MudLink Typo="Typo.h5" Href="@HistoryUrl.Content.Article(Article.Id)">
            @Article.Title
        </MudLink>
        <MudText Class="mw-xs" Typo="Typo.body2">
            @Article.Overview
        </MudText>
    </article>

    <aside class="statistics">
        <div class="d-flex justify-space-between mb-3">
            <div class="d-flex align-center mr-3">
                <MudIcon Icon="@EduIcons.Tests" Size="Size.Small" Class="mr-3"/>
                <MudText Typo="Typo.body2">
                    @L["NumberOfTests:Passed"]
                </MudText>
            </div>
            <MudText Typo="Typo.body2">
                @Total.Tests.ToReadable()
            </MudText>
        </div>
        <div class="d-flex justify-space-between mb-3">
            <div class="d-flex align-center mr-3">
                <MudIcon Icon="@EduIcons.Score" Size="Size.Small" Class="mr-3"/>
                <MudText Typo="Typo.body2">
                    @L["Score:Total"]
                </MudText>
            </div>
            <MudText Typo="Typo.body2">
                @Total.Score.ToReadable()
            </MudText>
        </div>
        <div class="d-flex justify-space-between mb-3">
            <div class="d-flex align-center mr-3">
                <MudIcon Icon="@EduIcons.Questions" Size="Size.Small" Class="mr-3"/>
                <MudText Typo="Typo.body2">
                    @L["Questions:Total"]
                </MudText>
            </div>
            <MudText Typo="Typo.body2">
                @Total.Questions.ToReadable()
            </MudText>
        </div>
        <div class="d-flex justify-space-between mb-3">
            <div class="d-flex align-center mr-3">
                <MudIcon Icon="@EduIcons.TimeSpent" Size="Size.Small" Class="mr-3"/>
                <MudText Typo="Typo.body2">
                    @L["TimeSpent:Total"]
                </MudText>
            </div>
            <MudText Typo="Typo.body2">
                @Total.TimeSpent.ToSimpleFormat()
            </MudText>
        </div>
    </aside>
</section>

@code {

    [Inject]
    private IStringLocalizer<App> L { get; set; } = default!;

    [Parameter, EditorRequired]
    public ArticleOverviewModel Article { get; set; } = default!;

    [Parameter, EditorRequired]
    public ArticleStatisticsModel.TotalModel Total { get; set; } = default!;

    [Parameter, EditorRequired]
    public List<BreadcrumbItem> Breadcrumbs { get; set; } = new();

    [Parameter]
    public string? Class { get; set; }

}