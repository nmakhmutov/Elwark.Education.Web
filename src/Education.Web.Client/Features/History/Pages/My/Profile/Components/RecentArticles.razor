@using Education.Web.Client.Features.History.Services.Learner

<MudText Class="mb-3 mb-sm-6" Typo="Typo.h4">
    Recent articles
</MudText>
<ApiViewer Result="@_response" Context="articles">
<EduFillGrid>
    @foreach (var article in articles)
    {
        <ArticleCard Article="@article.Article" Activity="@article.Activity"/>
    }
</EduFillGrid>
    
</ApiViewer>

@code {
    private ApiResult<UserArticleOverviewModel[]> _response = ApiResult<UserArticleOverviewModel[]>.Loading();

    [Inject]
    private IHistoryLearnerService LearnerService { get; set; } = default!;

    protected override async Task OnInitializedAsync() =>
        _response = await LearnerService.GetRecentArticlesAsync();

}