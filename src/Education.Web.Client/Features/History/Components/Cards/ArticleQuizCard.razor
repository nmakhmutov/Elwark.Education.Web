@using Education.Web.Client.Features.History.Services
<section class="mud-paper pa-3 pa-sm-6 @Class">
    @if (HasQuiz && UserActivity.IsPassedAnyQuizzes)
    {
        <MudLink Typo="Typo.subtitle2" Href="@HistoryUrl.User.MyArticle(ArticleId)">
            @L["Shared_MyProgress"]
        </MudLink>
    }
    else
    {
        <MudText Typo="Typo.subtitle2">
            @L["Shared_MyProgress"]
        </MudText>
    }

    <div class="mt-3">
        <div class="d-flex justify-space-between mb-3">
            <div class="d-flex align-center mr-3">
                <MudIcon Icon="@EduIcons.Quiz" Size="Size.Small" Class="mr-3"/>
                <MudText Typo="Typo.body2">
                    @L["Shared_NumberOfPassedEasyQuizzes"]
                </MudText>
            </div>
            <MudText Typo="Typo.body2">
                @UserActivity.NumberOfEasyQuiz.Succeeded
            </MudText>
        </div>
        <div class="d-flex justify-space-between">
            <div class="d-flex align-center mr-3">
                <MudIcon Icon="@EduIcons.Quiz" Size="Size.Small" Class="mr-3"/>
                <MudText Typo="Typo.body2">
                    @L["Shared_NumberOfPassedHardQuizzes"]
                </MudText>
            </div>
            <MudText Typo="Typo.body2">
                @UserActivity.NumberOfHardQuiz.Succeeded
            </MudText>
        </div>
    </div>

    @if (HasQuiz)
    {
        <MudButton
            Class="mt-3 mt-sm-6"
            Link="@HistoryUrl.ArticleQuiz.Index(ArticleId)"
            Variant="Variant.Filled"
            Color="Color.Primary"
            FullWidth
            DisableElevation>
            @L["Shared_TakeTheQuiz"]
        </MudButton>
    }
</section>

@code {

    [Inject]
    public IStringLocalizer<App> L { get; set; } = default!;

    [Parameter]
    public string? Class { get; set; }

    [Parameter, EditorRequired]
    public string ArticleId { get; set; } = default!;

    [Parameter, EditorRequired]
    public UserActivityOverviewModel UserActivity { get; set; } = default!;

    [Parameter, EditorRequired]
    public bool HasQuiz { get; set; }

}