@inherits InventoryInfoCard

@{ base.BuildRenderTree(__builder); }

@code {
    private bool _isLoading;

    [Parameter, EditorRequired]
    public uint Id { get; set; }

    [Parameter]
    public string? ButtonText { get; set; }

    [Parameter]
    public EventCallback<uint> OnClick { get; set; }

    protected override void OnInitialized() =>
        ChildContent =
            @<LoadingButton
                 Class="mt-3"
                 FullWidth
                 DisableElevation
                 Variant="Variant.Filled"
                 Color="Color.Primary"
                 IsLoading="@_isLoading"
                 Text="@ButtonText"
                 OnClick="@OnClickHandler"/>;

    private async Task OnClickHandler()
    {
        _isLoading = true;

        await OnClick.InvokeAsync(Id);

        _isLoading = false;
    }

}