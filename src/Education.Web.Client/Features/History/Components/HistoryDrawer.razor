@using Education.Web.Client.Features.History.Services
<MudDrawer Open="@DrawerOpen"
           OpenChanged="OnDrawerOpenChanged"
           ClipMode="DrawerClipMode.Docked"
           Breakpoint="Breakpoint.Lg"
           Elevation="0">
    <MudNavMenu Color="Color.Primary" Dense Margin="Margin.Dense" Rounded="true" Class="pa-2">
        <MudNavLink Match="NavLinkMatch.All" Href="@HistoryUrl.Root" Icon="@Icons.Material.Outlined.Home">
            @L["Shared_HomePage"]
        </MudNavLink>

        <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.Content.Courses" Icon="@EduIcons.Courses">
            @L["History_Courses"]
        </MudNavLink>

        <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.Content.Articles()" Icon="@EduIcons.Articles">
            @L["History_Articles"]
        </MudNavLink>

        <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.Content.Empires" Icon="@EduIcons.Empires">
            @L["History_Empires"]
        </MudNavLink>

        <MudDivider Class="my-2"/>

        <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.ArticleQuiz.Index()" Icon="@EduIcons.Quiz">
            @L["Shared_Quizzes"]
        </MudNavLink>

        <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.EventGuesser.Index" Icon="@EduIcons.EventGuesser">
            @L["History_EventGuesser"]
        </MudNavLink>

        <MudNavGroup Title="@L["Leaderboards"]" Icon="@EduIcons.Leaderboard">
            <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.Leaderboard.Global">
                @L["Leaderboard:GlobalTitle"]
            </MudNavLink>
            <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.Leaderboard.Monthly">
                @L["Leaderboard:MonthlyTitle"]
            </MudNavLink>
        </MudNavGroup>

        <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.Store.Index" Icon="@EduIcons.InventoryStore">
            @L["Shared_InventoryStore"]
        </MudNavLink>

        <AuthorizeView>
            <Authorized>
                <MudDivider Class="my-2"/>

                <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.User.MyProfile" Icon="@EduIcons.Profile">
                    @L["Shared_UserProfile"]
                </MudNavLink>

                <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.User.MyBackpack" Icon="@EduIcons.Backpack">
                    @L["Shared_Backpack"]
                </MudNavLink>

                <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.User.MyBookmarks" Icon="@EduIcons.Bookmarks">
                    @L["Bookmarks"]
                </MudNavLink>

                <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.User.MyQuests" Icon="@EduIcons.Quests">
                    @L["Quests"]
                </MudNavLink>

                <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.User.MyStatistics" Icon="@EduIcons.Statistics">
                    @L["Statistics"]
                </MudNavLink>

                <MudNavLink Match="NavLinkMatch.Prefix" Href="@HistoryUrl.User.MyAchievements" Icon="@EduIcons.Achievements">
                    @L["Shared_Achievements"]
                </MudNavLink>
            </Authorized>
        </AuthorizeView>
    </MudNavMenu>
</MudDrawer>

@code {

    [Inject]
    private IStringLocalizer<App> L { get; set; } = default!;

    [Parameter]
    public bool DrawerOpen { get; set; }

    [Parameter]
    public EventCallback<bool> OnDrawerOpenChanged { get; set; }

}