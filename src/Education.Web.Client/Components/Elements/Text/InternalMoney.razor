@using MudBlazor.Utilities
@using Education.Web.Client.Models
<div class="@_blockClass">
    <MudIcon Size="@IconSize" Class="@_iconClass" Icon="@_icon"/>
    <ReadableNumber Value="@_amount" Typo="@Typo"/>
</div>

@code {
    private uint _amount;
    private string? _icon;
    private string? _blockClass;
    private string? _iconClass;

    [Parameter, EditorRequired]
    public IInternalMoney Money { get; set; } = default!;

    [Parameter]
    public string? Class { get; set; }

    [Parameter]
    public Typo Typo { get; set; } = Typo.body1;

    [Parameter]
    public Size IconSize { get; set; } = Size.Small;

    [Parameter]
    public bool Horizontal { get; set; }

    protected override void OnParametersSet()
    {
        _iconClass = Horizontal ? "mr-1" : "mb-1";

        _blockClass = CssBuilder.Default("d-flex align-center")
            .AddClass(Horizontal ? "flex-row" : "flex-column")
            .AddClass(Class)
            .Build();

        (_icon, _amount) = Money switch {
            Experience x => (EduIcons.Experience,x.Amount),
            Silver x => (EduIcons.Silver,x.Amount),
            _ => (Icons.Material.Outlined.Money,0u)
            };
    }

}