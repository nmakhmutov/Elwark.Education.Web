@using Education.Web.Client.Features.History.Services.Quiz.Model
@using Education.Web.Client.Features.History.Services.User.Model.Quiz
<ul class="@Class">
    <li class="d-flex flex-row justify-space-between underline mb-1">
        <MudText Typo="Typo.subtitle1">
            @L["TimeSpent"]
        </MudText>
        <MudText Typo="Typo.subtitle1">
            @TimeSpent.Humanize()
        </MudText>
    </li>
    <li class="d-flex flex-row justify-space-between underline mb-1">
        <MudText Typo="Typo.subtitle1">
            @L["Score:Total"]
        </MudText>
        <MetricNumber Value="@Score.Total" Typo="Typo.subtitle1"/>
    </li>
    <li class="d-flex flex-row">
        <ul class="w-100 ml-6">
            <li class="d-flex flex-row justify-space-between underline mb-1">
                <MudText Typo="Typo.subtitle1">
                    @L["Score:ByQuestions"]
                </MudText>
                <MetricNumber Value="@Score.Questions" Typo="Typo.subtitle1"/>
            </li>
            <li class="d-flex flex-row justify-space-between underline mb-1">
                <MudText Typo="Typo.subtitle1">
                    @L["Score:BySpeedBonus"]
                </MudText>
                <MetricNumber Value="@Score.Speed" Typo="Typo.subtitle1"/>
            </li>
            <li class="d-flex flex-row justify-space-between underline mb-1">
                <MudText Typo="Typo.subtitle1">
                    @L["Score:NoMistakesBonus"]
                </MudText>
                <MetricNumber Value="@Score.NoMistakes" Typo="Typo.subtitle1"/>
            </li>
        </ul>
    </li>
    <li class="d-flex flex-row justify-space-between underline mb-1">
        <MudText Typo="Typo.subtitle1">
            @L["Questions:Total"]
        </MudText>
        <MetricNumber Value="@AnswerRatio.Questions" Typo="Typo.subtitle1"/>
    </li>
    <li class="d-flex flex-row">
        <ul class="w-100 ml-6">
            <li class="d-flex flex-row justify-space-between underline mb-1">
                <MudText Typo="Typo.subtitle1">
                    @L["Questions:Answered"]
                </MudText>
                <MetricNumber Value="@AnswerRatio.Answered" Typo="Typo.subtitle1"/>
            </li>
            <li class="d-flex flex-row justify-space-between underline mb-1">
                <MudText Typo="Typo.subtitle1">
                    @L["Questions:NotAnswered"]
                </MudText>
                <MetricNumber Value="@AnswerRatio.NotAnswered" Typo="Typo.subtitle1"/>
            </li>
            <li class="d-flex flex-row justify-space-between underline mb-1">
                <MudText Typo="Typo.subtitle1">
                    @L["Questions:Correct"]
                </MudText>
                <MetricNumber Value="@AnswerRatio.Correct" Typo="Typo.subtitle1"/>
            </li>
            <li class="d-flex flex-row justify-space-between underline mb-1">
                <MudText Typo="Typo.subtitle1">
                    @L["Questions:Incorrect"]
                </MudText>
                <MetricNumber Value="@AnswerRatio.Incorrect" Typo="Typo.subtitle1"/>
            </li>
        </ul>
    </li>
</ul>

@code {

    [Inject]
    private IStringLocalizer<App> L { get; set; } = default!;

    [Parameter]
    public string? Class { get; set; }

    [Parameter, EditorRequired]
    public ScoreModel Score { get; set; } = default!;

    [Parameter, EditorRequired]
    public AnswerRatioModel AnswerRatio { get; set; } = default!;

    [Parameter, EditorRequired]
    public TimeSpan TimeSpent { get; set; }

}